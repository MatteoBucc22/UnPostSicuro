import{a as v}from"./chunk-BM7MHGYW.js";import"./chunk-X5YLR3NI.js";import{b as x,d as m,f as y,g as w,j as S,k as C,l as E,p as G,q as M,r as F}from"./chunk-D7OGTJNG.js";import{Ha as s,Ib as f,Nb as b,Sb as h,Wa as i,aa as c,ga as l,ka as p,wa as g,xa as t,ya as o,za as a}from"./chunk-JXKQ7VXO.js";import{i as d}from"./chunk-ODN5LVDJ.js";var N=class u{constructor(n,r,e){this.fb=n;this.auth=r;this.router=e;this.form=this.fb.group({email:["",[m.required,m.email]],password:["",m.required]})}form;errorMessage="";isSubmitting=!1;onLogin(){return d(this,null,function*(){if(this.form.invalid){this.errorMessage="Compila correttamente tutti i campi";return}this.isSubmitting=!0,this.errorMessage="";let{email:n,password:r}=this.form.value;try{let e=yield this.auth.login(n,r);e?.user?(console.log("Login ok:",e),this.router.navigate(["/home"])):this.errorMessage="Credenziali non valide"}catch(e){console.error("Errore login:",e),this.errorMessage=e instanceof Error?e.message:"Errore durante il login"}finally{this.isSubmitting=!1}})}loginWithGoogle(){this.auth.loginWithGoogle()}static \u0275fac=function(r){return new(r||u)(l(G),l(v),l(h))};static \u0275cmp=p({type:u,selectors:[["app-login"]],decls:24,vars:1,consts:[[1,"flex","items-center","justify-center","min-h-screen","bg-gray-50","px-4"],[1,"w-full","max-w-md","p-10","bg-white","rounded-3xl","shadow-xl","border","border-gray-100"],[1,"text-3xl","font-extrabold","text-center","text-blue-800","mb-6"],[1,"text-center","text-gray-500","mb-8"],[1,"space-y-5",3,"ngSubmit","formGroup"],[1,"block","text-gray-700","font-medium","mb-1"],["formControlName","email","type","email","placeholder","esempio@email.com",1,"w-full","px-4","py-3","border","border-gray-300","rounded-xl","focus:ring-2","focus:ring-blue-400","focus:border-blue-400","transition"],["formControlName","password","type","password","placeholder","********",1,"w-full","px-4","py-3","border","border-gray-300","rounded-xl","focus:ring-2","focus:ring-blue-400","focus:border-blue-400","transition"],["type","submit",1,"w-full","py-3","bg-gradient-to-r","from-blue-600","to-indigo-600","text-white","font-semibold","rounded-xl","shadow-md","hover:from-blue-700","hover:to-indigo-700","transform","hover:-translate-y-0.5","transition-all"],[1,"mt-5","w-full","flex","items-center","justify-center","gap-3","py-3","border","border-gray-300","rounded-xl","bg-white","text-gray-700","font-medium","shadow-sm","hover:bg-gray-50","transition",3,"click"],["src","https://www.svgrepo.com/show/355037/google.svg","alt","Google",1,"w-5","h-5"],[1,"mt-6","text-center","text-gray-500"],["routerLink","/registration-page",1,"text-blue-600","font-semibold","hover:underline"]],template:function(r,e){r&1&&(t(0,"div",0)(1,"div",1)(2,"h2",2),i(3," Accedi al tuo account "),o(),t(4,"p",3),i(5," Inserisci le tue credenziali per continuare "),o(),t(6,"form",4),s("ngSubmit",function(){return e.onLogin()}),t(7,"div")(8,"label",5),i(9,"Email"),o(),a(10,"input",6),o(),t(11,"div")(12,"label",5),i(13,"Password"),o(),a(14,"input",7),o(),t(15,"button",8),i(16," Accedi "),o()(),t(17,"button",9),s("click",function(){return e.loginWithGoogle()}),a(18,"img",10),i(19," Continua con Google "),o(),t(20,"p",11),i(21," Non hai un account? "),t(22,"a",12),i(23,"Registrati"),o()()()()),r&2&&(c(6),g("formGroup",e.form))},dependencies:[f,M,S,x,y,w,F,C,E,b],encapsulation:2})};export{N as LoginComponent};
